(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3290],{6760:function(e,t,s){"use strict";var i=s(5893),n=s(1163),a=s(7294),r=s(9473),o=s(4787),l=s(4603),c=s(9340),d=s.n(c);//!when we get search result: there pcatId is :  from greater to less    like >>   4 3 2 1
//!arrange points maake that from less to more  like >> 1 2 3 4
let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{keyss:t=[],collectingPoints:s={}}=e,i=0;for(let n=0;n<t.length;n++)"0"===t[n]&&(i++,t.splice(n,1),n--);for(let a=0;a<i;a++)t.push("0");return t.map(e=>s[e])},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},{point:s}=e,i="".concat(l.Z.apiDomain,"/api/v1/postcode-address"),n=JSON.stringify({postcodes:[s.postcode]}),a={method:"POST",headers:{"Content-Type":"application/json"},body:n};fetch(i,a).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{window.handelErrorLogs(e,"APL HandleSearchResults Component - getPostCodesAndAddToList function      fetching catch blog  ",{config:a,url:i})})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},{point:s}=e,i="".concat(l.Z.apiDomain,"/api/v1/google-places"),n=JSON.stringify({point:s}),a={method:"POST",headers:{"Content-Type":"application/json"},body:n};fetch(i,a).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{window.handelErrorLogs(e,"APL HandleSearchResults Component - requestForGooglePLace function      fetching catch blog  ",{config:a,url:i})})},v=e=>new Promise((t,s)=>p(e,e=>t(e))),g=e=>new Promise((t,s)=>f(e,e=>t(e)));t.Z=function(){var e,t,s,c;let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{collectingPoints:f,destination:m,setInternalState:h,index:_,getQuotations:y=()=>{},language:N,isTaxiDeal:D=!1}=p,j=[];if((null===(e=Object.keys(f))||void 0===e?void 0:e.length)!==0){let x=Object.keys(f);j=u({keyss:x,collectingPoints:f})}(0,n.useRouter)();let k=(0,r.I0)(),b=(0,r.v9)(e=>e.pickUpDropOffActions),{params:{direction:I},reservations:P}=b,{appData:w}=(0,r.v9)(e=>e.initialReducer),C=null==w?void 0:null===(t=w.pointTypeCategories)||void 0===t?void 0:t.reduce((e,t)=>({...e,[t.id]:t.image}),{}),S=null==w?void 0:null===(s=w.pointTypeCategories)||void 0===s?void 0:s.reduce((e,t)=>({...e,[t.id]:t.categoryName}),{}),A=null==w?void 0:null===(c=w.pointTypeCategories)||void 0===c?void 0:c.reduce((e,t)=>({...e,[t.id]:JSON.parse(t.objectDetails)}),{}),{width:T}=(0,o.i)(),q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{point:t,destination:s}=e;5===t.pcatId&&(async()=>{let{status:e,results:s}=await v({point:t});e&&s.length>0&&k({type:"SET_POST_CODE_ADRESSES",data:{result:s[0]}})})(),10===t.pcatId&&(async()=>{let e=await g({point:t});e.status&&(t=e.point)})(),t={...t,...A[t.pcatId]},D&&5===t.pcatId&&(t={...t,postCodeDetails:{...t.postCodeDetails,id:""}}),k({type:"ADD_NEW_POINT",data:{point:t,destination:s,index:_}}),h({["".concat(s,"-search-value-").concat(_)]:"",["".concat(s,"-points-error-").concat(_)]:"",["".concat(s,"-search-focus-").concat(_)]:!1,["collecting-".concat(s,"-points-").concat(_)]:[],["show-".concat(s,"-extra-point-").concat(_)]:!0});let i=P[_]["selected".concat("pickup"===s?"Pickup":"Dropoff","Points")];P[_]["selected".concat("pickup"===s?"Pickup":"Dropoff","Points")]=[...i,t],y()};return(0,i.jsx)("div",{className:"".concat(d().search_results," ").concat(D?d().istaxideal_search_results:""," "),w:String(T<=990),children:(null==j?void 0:j.length)?(0,i.jsx)("ul",{children:null==j?void 0:j.map(e=>null==e?void 0:e.map((e,t)=>(0,i.jsxs)("div",{children:[0===t?(0,i.jsxs)("li",{className:"".concat(0===t?d().groupName:""," ").concat(I),children:[10===e.pcatId?(0,i.jsx)("img",{src:"".concat(l.Z.apiDomain,"/media/g-google.svg"),alt:""}):C&&(0,i.jsx)("img",{src:"".concat(l.Z.apiDomain).concat(C[e.pcatId]),alt:""}),(0,i.jsxs)("a",{href:"/",className:"".concat(I),children:[" ",S&&S[e.pcatId],"   "]}),10===e.pcatId?(0,i.jsx)("img",{src:"".concat(l.Z.apiDomain,"/media/powered-by-google.png"),alt:"",className:d().googleImage}):(0,i.jsx)(a.Fragment,{})]},t):(0,i.jsx)(a.Fragment,{}),(0,i.jsxs)("li",{onClick:()=>q({point:e,destination:m}),className:"".concat(I),children:[C?(0,i.jsx)("img",{src:"".concat(l.Z.apiDomain).concat(C[e.pcatId]),alt:""}):(0,i.jsx)(a.Fragment,{}),(0,i.jsxs)("p",{className:"".concat(I),direction:String("rtl"===I),children:["en"===N?e.address:e.translatedAddress," ","".concat((null==e?void 0:e.postcode)?"-  ".concat(null==e?void 0:e.postcode):"")]})]})]},t)))}):(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{className:d().no_results,children:[(0,i.jsx)("i",{className:"fas fa-times-circle","aria-hidden":"true"}),(0,i.jsxs)("p",{children:["No any result matched ",(0,i.jsx)("br",{})," if you want a quotation, try to contact with this phone number :"," ",(0,i.jsx)("a",{href:"tel: +44 (0) 208 683 2330",children:"+44 (0) 208 683 2330"})]})]})})})}},2290:function(e,t,s){"use strict";var i=s(5893);s(7294);var n=s(1174),a=s.n(n);let r=()=>(0,i.jsxs)("div",{className:a().lds_ellipsis,children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]});t.Z=r},7681:function(e,t,s){"use strict";var i=s(5893),n=s(1163);s(7294);var a=s(9473),r=s(4603),o=s(3796),l=s.n(o);t.Z=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{points:s,index:o,destination:c,getQuotations:d=()=>{},isTaxiDeal:u=!1,hasOneItem:p=!1}=t,f=(0,a.I0)(),v=(0,n.useRouter)(),g=(0,a.v9)(e=>e.pickUpDropOffActions),{params:{direction:m,journeyType:h,language:_},reservations:y}=g,{appData:N}=(0,a.v9)(e=>e.initialReducer),D=null==N?void 0:null===(e=N.pointTypeCategories)||void 0===e?void 0:e.reduce((e,t)=>({...e,[t.id]:t.image}),{}),j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{currentIndexOfDeletedItem:t}=e;f({type:"DELETE_ITEM_FROM_SELECTEDLIST",data:{currentIndexOfDeletedItem:t,index:o,destination:c}});let s=y[o]["selected".concat("pickup"===c?"Pickup":"Dropoff","Points")];y[o]["selected".concat("pickup"===c?"Pickup":"Dropoff","Points")]=s.filter((e,s)=>s!==t),d()};return(0,i.jsx)("div",{className:"".concat(l().selected_points," ").concat(u?l().isTaxiDeal_selected_points:""," ").concat(p?l().hasoneitem_taxideals:""),children:s.map((e,t)=>(0,i.jsxs)("div",{className:l().point_div,direction:String("rtl"===m),title:"".concat("en"===_?e.address:e.translatedAddress),children:[D&&(0,i.jsx)("img",{className:l().point_image,src:"".concat(r.Z.apiDomain).concat(D[null==e?void 0:e.pcatId]),alt:"".concat("en"===_?e.address:e.translatedAddress)}),(0,i.jsx)("input",{type:"text",readOnly:!0,className:m,name:"pickup-address",placeholder:"".concat("en"===_?e.address:e.translatedAddress)}),p?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)("span",{hideme:String("/quotation-result"===v.pathname),className:"".concat(l().icons," ").concat(l().icons_delete_span),onClick:e=>j({currentIndexOfDeletedItem:t,v:e.target}),children:(0,i.jsx)("i",{className:"fa fa-times sef-loc-delete","aria-hidden":"true"})}),(0,i.jsx)("span",{hideme:String("/quotation-result"===v.pathname),className:"".concat(l().icons_check_span," ").concat(l().icons),children:(0,i.jsx)("i",{className:"fa-solid fa-check ".concat(l().check_button),"aria-hidden":"true"})})]},t))})}},8491:function(e,t,s){"use strict";s.d(t,{L:function(){return n},i:function(){return i}});let i=Array.from(Array(24)).map((e,t)=>({id:t+1,value:t<10?"0".concat(t):String(t)})),n=Array.from(Array(12)).map((e,t)=>({id:t,value:(t+1-1)*5<10?"0".concat((t+1-1)*5):String((t+1-1)*5)}))},1241:function(e,t,s){"use strict";s.d(t,{$:function(){return i}});let i=e=>{if(e.includes('"')||e.includes("'")||e.includes("/")||e.includes("\\"))return!0}},4745:function(e,t,s){"use strict";function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.reservations){let{appData:s}=e,i=e.reservations||[],{checkTransferDetails:n=!1,checkQuotation:a=!1,checkPaymentDetails:r=!1}=t,o={status:200,reservations:null==i?void 0:i.map(e=>({quotation:{},paymentDetails:{},transferDetails:{},passengerDetails:{},reservationDetails:{},selectedPickupPoints:e.selectedPickupPoints.map(e=>({})),selectedDropoffPoints:e.selectedDropoffPoints.map(e=>({}))}))};for(let l in i)for(let c of Object.keys(i[l]))if(Array.isArray(i[l][c])){if(0===i[l][c].length)o.status=403,o.reservations[l].selectedPickupPoints=null==s?void 0:s.words.seSelectPickupPointAtLeast,o.reservations[l].selectedDropoffPoints=null==s?void 0:s.words.seSelectDropoffPointAtLeast;else for(let d in i[l][c])if("object"==typeof i[l][c][d]&&"string"!=typeof i[l][c][d].token&&(o.reservations[l][c][d]="invalid point",o.status=403),!0===n){let u=i[l][c][d],{pcatId:p}=u,f=c.includes("Pickup")?"pickup":"dropoff";if(1===p){let{flightDetails:v}=u;"object"==typeof v?(o.reservations[l][c][d].flightDetails={},"string"==typeof v.flightNumber?"pickup"===f&&0===parseInt(d)&&0===v.flightNumber.length&&(o.status=403,o.reservations[l][c][d].flightDetails.flightNumber="required"):(o.status=403,o.reservations[l][c][d].flightDetails.flightNumber="required"),Number.isInteger(v.waitingPickupTime)||(o.status=403,o.reservations[l][c][d].flightDetails.waitingPickupTime="required")):(o.reservations[l][c][d].flightDetails={},o.reservations[l][c][d].flightDetails.flightNumber="invalid",o.reservations[l][c][d].flightDetails.waitingPickupTime="invalid",o.status=403)}else if(2===p){let{cruiseNumber:g}=u;"string"==typeof g?(o.reservations[l][c][d].cruiseNumber="","string"==typeof g?"pickup"===f&&0===parseInt(d)&&0===g.length&&(o.status=403,o.reservations[l][c][d].cruiseNumber="required"):(o.status=403,o.reservations[l][c][d].cruiseNumber="required")):(o.reservations[l][c][d].cruiseNumber="invalid",o.status=403)}else if(3===p){let{trainNumber:m}=u;"string"!=typeof m&&(o.reservations[l][c][d].trainNumber="invalid",o.status=403)}else if(4===p){let{roomNumber:h}=u;"string"!=typeof h&&(o.reservations[l][c][d].roomNumber="invalid",o.status=403)}else if(5===p){let{postCodeDetails:_}=u;"object"==typeof _?(o.reservations[l][c][d].postCodeDetails={},"string"==typeof _.postCodeAddress&&Number.isInteger(_.id)?0===_.id&&0===_.postCodeAddress.length&&(o.status=403,o.reservations[l][c][d].postCodeDetails.postCodeAddress="required"):(o.status=403,o.reservations[l][c][d].postCodeDetails.id=Number.isInteger(_.id)?void 0:"invalid",o.reservations[l][c][d].postCodeDetails.postCodeAddress="string"!=typeof _.postCodeAddress?"required":void 0)):(o.reservations[l][c][d].postCodeDetails="invalid",o.status=403)}else if(7===p||8===p||9===p||10===p){//!iam not sure about this desctructing
let{"address-description":y}=u;"string"!=typeof y&&(o.reservations[l][c][d]["address-description"]="invalid",o.status=403)}}}else if("object"==typeof i[l][c]&&null!==i[l][c]){//!new addition
if("quotation"===c){if(!0===a){let{token:N,price:D,carId:j}=i[l][c];"string"!=typeof N&&(o.status=403,o.reservations[l][c].token="invalid data type"),"string"!=typeof D&&(o.status=403,o.reservations[l][c].price="invalid data type"),Number.isInteger(j)||(o.status=403,o.reservations[l][c].price="invalid data type")}}else if("transferDetails"===c){let{transferDateTimeString:x,passengersNumber:k,pickupCategoryId:b,specialRequests:I}=i[l][c];Number.isInteger(k)||(o.status=403,o.reservations[l][c].passengersNumber="invalid data type"),Number.isInteger(b)||(o.status=403,o.reservations[l][c].pickupCategoryId="invalid data type"),"string"!=typeof x&&(o.status=403,o.reservations[l][c].transferDateTimeString="invalid data type"),"string"!=typeof I&&(o.status=403,o.reservations[l][c].specialRequests="invalid data type")}else if("passengerDetails"===c){if(!0===n){let P=i[l][c];("string"!=typeof P.firstname||"string"==typeof P.firstname&&0===P.firstname.length)&&(o.status=403,o.reservations[l][c].firstname="required"),"string"==typeof P.email&&("string"!=typeof P.email||0!==P.email.length)&&P.email.includes("@")||(o.status=403,o.reservations[l][c].email="required"),("string"!=typeof P.phone||"string"==typeof P.phone&&0===P.phone.length)&&(o.status=403,o.reservations[l][c].phone="required"),"string"!=typeof P.lastname&&(o.status=403,o.reservations[l][c].lastname="invalid data type"),"string"!=typeof P.language&&(o.status=403,o.reservations[l][c].language="invalid data type"),"string"!=typeof P.token&&(o.status=403,o.reservations[l][c].token="invalid data type");let w=Object.keys(P).filter(e=>!["firstname","lastname","email","phone","language","token"].includes(e));if(0!==w.length)for(let C of(o.status=403,w))o.reservations[l][c][C]="invalid"}}else if("paymentDetails"===c){if(r){let{token:S,paymentTpye:A,account:T,price:q}=i[l][c];"string"!=typeof S&&(o.status=403,o.reservations[l][c].token="invalid"),"string"==typeof A&&Number.isInteger(A)||(o.status=403,o.reservations[l][c].paymentTpye="invalid"),Number.isInteger(T)||(o.status=403,o.reservations[l][c].account="invalid"),Number.isInteger(q)||(o.status=403,o.reservations[l][c].price="invalid")}}else if("reservationDetails"===c){let{channelId:E,accountId:O}=i[l][c];Number.isInteger(E)||(o.status=403,o.reservations[l][c].channelId="invalid"),Number.isInteger(O)||(o.status=403,o.reservations[l][c].accountId="invalid")}else o.status=403,o.reservations[l][c]="Invalid property inside reservation object"}else o.status=403,o.reservations[l][c]="Invalid property inside reservation object";return o}}s.d(t,{n:function(){return i}})},4787:function(e,t,s){"use strict";s.d(t,{i:function(){return n}});var i=s(7294);function n(){let[e,t]=(0,i.useState)({width:void 0,height:void 0});return(0,i.useEffect)(()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}},9340:function(e){e.exports={search_results:"styles_search_results__r8jXF",groupName:"styles_groupName__XT4In",googleImage:"styles_googleImage__BD4So",no_results:"styles_no_results__esK0G",istaxideal_search_results:"styles_istaxideal_search_results__qNC5u"}},1174:function(e){e.exports={lds_ellipsis:"styles_lds_ellipsis__U_4BN",lds_ellipsis1:"styles_lds_ellipsis1__qZaJ9",lds_ellipsis2:"styles_lds_ellipsis2__9ZRtu",lds_ellipsis3:"styles_lds_ellipsis3__ObR_Z"}},3796:function(e){e.exports={selected_points:"styles_selected_points__Zdmzx",point_div:"styles_point_div__1LJ5m",icons:"styles_icons__JzQRX",icons_check_span:"styles_icons_check_span__Ft6mi",icons_delete_span:"styles_icons_delete_span__l1zkK",isTaxiDeal_selected_points:"styles_isTaxiDeal_selected_points__Q71IX",hasoneitem_taxideals:"styles_hasoneitem_taxideals__wLRsD"}}}]);