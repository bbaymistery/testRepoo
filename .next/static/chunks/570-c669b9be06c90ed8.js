"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{3570:function(n,e,t){t.d(e,{$s:function(){return v},Br:function(){return f},Gt:function(){return p},HZ:function(){return y},K1:function(){return c},K2:function(){return s},QU:function(){return m},Ry:function(){return T},Yd:function(){return h},c:function(){return _},do:function(){return S},e_:function(){return d},kD:function(){return O},rR:function(){return l},s_:function(){return D},tP:function(){return j},tl:function(){return P},uY:function(){return g},vz:function(){return u}});var o=t(7568),r=t(7582),a=t(1635),i=t(8348),u=function(n,e,t){return function(o){o({type:i.id,payload:{inpValue:n,index:e,journeyType:t}})}},c=function(n,e,t){return function(){var u=(0,o.Z)((function(o,u){var c,p,s,l,d,f;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,a.Q)()];case 1:return c=r.sent(),p=u(),s=p.pickUpDropOffReducer,l=s.cookies.sessionToken,o({type:i.Cz,payload:{journeyType:t,index:e}}),d="".concat(c.apiDomain,"/api/v1/suggestions"),f={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:n,"session-token":"".concat(l||"")})},fetch(d,f).then((function(n){return n.json()})).then((function(r){o({type:i.pN,payload:{data:r,index:e,inpValue:n,journeyType:t}})})).catch((function(n){o({type:i.rZ,payload:{errorMessage:n.message,index:e}})})),[2]}}))}));return function(n,e){return u.apply(this,arguments)}}()},p=function(n,e,t,u){return function(){var c=(0,o.Z)((function(o){var c,p,s,l,d,f,y;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,a.Q)()];case 1:return c=r.sent(),p="".concat(c.apiDomain,"/api/v1/google-places"),s="pickupPoints"===e?0:1,10===n.pcatId?(l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({point:n})},fetch(p,l).then((function(n){return n.json()})).then((function(n){o({type:i.Z3,payload:{data:null===n||void 0===n?void 0:n.point,index:s,journeyType:t,objectDetails:u}})})).catch((function(n){console.log(n)}))):5===n.pcatId?(d="".concat(c.apiDomain,"/api/v1/postcode-address"),f={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postcodes:[n.postcode]})},fetch(d,f).then((function(n){return n.json()})).then((function(n){o({type:i.II,payload:n.results[0]})})).catch((function(n){console.log(n)})),o({type:i.Z3,payload:{data:n,index:s,journeyType:t,objectDetails:u}})):o({type:i.Z3,payload:{data:n,index:s,journeyType:t,objectDetails:u}}),(y=document.querySelector("#navbar_container"))&&(y.style.display="flex"),[2]}}))}));return function(n){return c.apply(this,arguments)}}()},s=function(n,e,t,o){return function(r){r({type:i.pB,payload:{item:n,index:e,journeyType:t,indexOfCurrentItem:o}})}},l=function(n,e,t){return function(o){o({type:i.YM,payload:{dateValue:n,pickupOrDropOrDate:e,journeyType:t}})}},d=function(n,e){return function(t){t({type:i.Su,payload:{valueOfHourOrMinute:n,transferOrReturn:e}})}},f=function(n,e,t){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r){r({type:i.Sb,payload:{message:n,pickOrDrop:e,journeyType:t,dateTimeForBoolean:o}})}},y=function(n,e,t){return function(){var u=(0,o.Z)((function(o,u){var c,p,s,l,d,f,y,h,v,g,T,m,O,D,j,_,S,P,b,I;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,a.Q)()];case 1:return v=r.sent(),g=u(),T=g.pickUpDropOffReducer.reservations,m=null===(c=T[0])||void 0===c?void 0:c.selectedPickupPoints,O=null===(p=T[0])||void 0===p?void 0:p.selectedDropoffPoints,D=null===(s=T[0])||void 0===s||null===(l=s.transferDetails)||void 0===l?void 0:l.transferDateTimeString,j=null===(d=T[1])||void 0===d?void 0:d.selectedPickupPoints,_=null===(f=T[1])||void 0===f?void 0:f.selectedDropoffPoints,S=null===(y=T[1])||void 0===y||null===(h=y.transferDetails)||void 0===h?void 0:h.transferDateTimeString,P="".concat(v.apiDomain,"/api/v1/quotation"),b={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedPickupPoints:m,selectedDropoffPoints:O,transferDateTimeString:D})},I={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedPickupPoints:j,selectedDropoffPoints:_,transferDateTimeString:S})},0!==e||t.updateInsideQuotation||(o({type:i.eS,payload:""}),fetch(P,b).then((function(n){return n.json()})).then((function(e){var t;200===e.status?n&&(o({type:i.p_,payload:{data:e}}),null===n||void 0===n||n.push("/quotation")):(o({type:i.w7,payload:{errorMessage:null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.global[0]}}),setTimeout((function(){o({type:i.w7,payload:{errorMessage:""}})}),4e3))})).catch((function(n){o({type:i.w7,payload:{errorMessage:n.message}})}))),1!==e||t.updateInsideQuotation||(o({type:i.NW,payload:""}),Promise.all([fetch(P,b),fetch(P,I)]).then((function(n){return Promise.all(n.map((function(n){return n.json()})))})).then((function(e){var t,r,a,u,c,p,s,l;(200===e[0].status&&200===e[1].status&&(o({type:i.RO,payload:{trQuots:e[0],retrunQuots:e[1]}}),n&&(null===n||void 0===n||n.push("/quotation"))),200!==e[0].status&&(null===(t=e[0])||void 0===t||null===(r=t.error)||void 0===r?void 0:r.global[0]))&&(o({type:i.DH,payload:{errorMessage:null===(c=e[0])||void 0===c||null===(p=c.error)||void 0===p?void 0:p.global[0]}}),setTimeout((function(){o({type:i.w7,payload:{errorMessage:""}})}),4e3));200!==e[1].status&&(null===(a=e[1])||void 0===a||null===(u=a.error)||void 0===u?void 0:u.global[0])&&(o({type:i.DH,payload:{errorMessage:null===(s=e[1])||void 0===s||null===(l=s.error)||void 0===l?void 0:l.global[0]}}),setTimeout((function(){o({type:i.w7,payload:{errorMessage:""}})}),4e3))})).catch((function(n){o({type:i.DH,payload:{errorMessage:n.message}}),console.log(n)}))),t.updateInsideQuotation&&0===e&&(console.log("calisiyorum for transfer"),o({type:i.eS,payload:""}),fetch(P,b).then((function(n){return n.json()})).then((function(n){var e;200===n.status?o({type:i.p_,payload:{data:n}}):(o({type:i.w7,payload:{errorMessage:null===n||void 0===n||null===(e=n.error)||void 0===e?void 0:e.global[0]}}),o({type:"IF_HAS_BOOKED_INSIDE_QUOTATION_PAGE_TRANSFER"}))})).catch((function(n){o({type:i.w7,payload:{errorMessage:n.message}})}))),t.updateInsideQuotation&&1===e&&(console.log("calisiyorum for rt"),o({type:i.Xz,payload:""}),fetch(P,I).then((function(n){return n.json()})).then((function(n){var e;200===n.status?o({type:i.aT,payload:{data:n}}):(o({type:i.ho,payload:{errorMessage:null===n||void 0===n||null===(e=n.error)||void 0===e?void 0:e.global[0]}}),o({type:"IF_HAS_BOOKED_INSIDE_QUOTATION_PAGE_RETURN"}))})).catch((function(n){console.log(n)}))),[2]}}))}));return function(n,e){return u.apply(this,arguments)}}()},h=function(n,e){return function(t){t({type:i.bz,payload:{quotation:n,journeyType:e}})}},v=function(n){return function(){var n=(0,o.Z)((function(n){var e,t,o,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,a.Q)()];case 1:return e=r.sent(),t="".concat(e.apiDomain,"/app/en"),o={method:"GET"},fetch(t,o).then((function(n){return n.json()})).then((function(e){n({type:i.Y4,payload:e})})).catch((function(n){console.log(n)})),u="".concat(e.apiDomain,"/api/v1/payment-types"),fetch(u,o).then((function(n){return n.json()})).then((function(e){n({type:i.Sr,payload:e})})).catch((function(n){console.log(n)})),[2]}}))}));return function(e){return n.apply(this,arguments)}}()},g=function(){return function(n){n({type:i.Kk})}},T=function(){return function(n){n({type:i.rt})}},m=function(n,e,t){return function(o){o({type:i.l_,payload:{pickOrDrop:n,journeyType:e,whereFuncComes:t}})}},O=function(n,e,t,o,r,a,u){return function(c){c({type:i.EY,payload:{value:n,pickOrDrop:e,journeyType:t,nameOfInput:o,whichSelectedItem:r,categoryOfTheType:a,Id:u}})}},D=function(n,e,t,o,r){return function(o){o({type:i.xx,payload:{erMessage:n,jourrneyType:e,categoryOfError:t,whichSelectedItem:r}})}},j=function(n,e,t,o){return function(r){r({type:i.Ke,payload:{erMessage:n,jourrneyType:e,categoryOfError:t,whichSelectedItem:o}})}},_=function(n,e,t){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r){r({type:i.TP,payload:{value:n,nameofInput:e,journeyType:t,selectAndRequest:o}})}},S=function(n,e){return function(t){t({type:i.qN,payload:{erMessage:n,journeyType:e}})}},P=function(n,e,t){return function(o,r){var a,u,c,p,s=r().pickUpDropOffReducer.paymentTypes;1===n&&(a=null===(c=s.filter((function(e){return e.id===n}))[0])||void 0===c?void 0:c.pagePath,u=null===(p=JSON.parse(a))||void 0===p?void 0:p.path);o({type:i.UE,payload:{token:e,paymentType:n}}),console.log(n,e,t),1===n?null===t||void 0===t||t.push("".concat(u)):(null===t||void 0===t||t.push("/reservations-document"),console.log("calisdim push teref"))}}}}]);